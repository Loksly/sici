<ol class="breadcrumb">
	<li><a href="/carta/{{organismo.id}}">{{organismo.nombrelargo}}</a></li>
</ol>
<div class="row">
	<div class="col-lg-12">
		<div style="clear:both" class="table-responsive">
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th style="width: 10%">ID</th>
						<th>Nombre</th>
						<th style="width: 10%">REST URL</th>
						<th>Frecuencia</th>
						<th>Acumulador</th>
						<th>Tipo</th>
						<th>Usos</th>
						<th>Cumplimentaciones</th>
						<th>Operaciones</th>
					</tr>
				</thead>
				<tfoot>
					<tr>
						<th><br />Nuevo indicador</th>
						<td colspan="7">
							<input ng-model="nuevo.nombre" class="form-control" />
						</td>
						<td>
							<button ng-click="guardar(indicador)" class="btn btn-sm btn-primary" title="Guardar nuevo indicador">
								<i class="fa fa-save"></i>
							</button>
						</td>
					</tr>
				</tfoot>
				<tbody>
					<tr ng-repeat="indicador in indicadores" ng-class="{'danger' :  indicador._id == idindicador}">
						<th>
							<span class="small">{{indicador._id}}</span>
						</th>
						<td>
							<input ng-model="indicador.nombre" class="form-control small" />
						</td>
						<td>
							<input ng-model="indicador.resturl" class="form-control" />
						</td>
						<td>
							<select ng-model="indicador.frecuencia" ng-options="o as o for o in frecuenciasIndicadores" class="form-control"></select>
						</td>
						<td>
							<select ng-model="indicador.acumulador" ng-options="func.value as func.name for func in functions" class="form-control"></select>
						</td>
						<td>
							<select ng-model="indicador.tipo" ng-options="o as o for o in tiposIndicadores" class="form-control"></select>
						</td>
						<td class="text-right" ng-class="{ 'danger': usosIndicadores[ indicador._id] !== 1 }">
							<span>{{usosIndicadores[ indicador._id] }}</span>
						</td>
						<td class="text-center">
							<h5><span ng-repeat="c in cumplimentaciones[ indicador._id ]" class="label" ng-class="{'label-success': c.cumplimentado, 'label-danger':!c.cumplimentado}" style="margin-right:1em">{{c.anualidad}}</span></h5>
						</td>
						<td>
							<button ng-click="actualizar(indicador)" class="btn btn-sm btn-primary" title="Actualizar">
								<i class="fa fa-save"></i>
							</button>
							<button ng-click="eliminar(indicador)" class="btn btn-sm btn-danger">
								<i class="fa fa-trash"></i>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>